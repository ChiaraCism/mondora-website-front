angular.module("mnd.web",["ui.bootstrap","ui.router","mnd.sprinkle","mnd.dashboard","asteroid","angular-medium-editor"]).config(["$stateProvider","$urlRouterProvider",function(t){t.state("home",{url:"/",templateUrl:"pages/home/home.html",controller:"HomeController"}),t.state("postInsert",{url:"/post/insert",templateUrl:"pages/post/insert/postInsert.html",controller:"PostInsertController"}),t.state("postEdit",{url:"/post/:postId/edit",templateUrl:"pages/post/edit/postEdit.html",controller:"PostEditController"}),t.state("postList",{url:"/posts",templateUrl:"pages/post/list/postList.html",controller:"PostListController"})}]).run(["$rootScope",function(t){t.safeApply=function(o){var e=t.$$phase;"$apply"===e||"$digest"===e?"function"==typeof o&&o():this.$apply(o)},t.menu={items:[{title:"home",href:"http://www.mondora.com"},{title:"cloud",href:"http://www.mondora.com"},{title:"governance",href:"http://www.mondora.com"},{title:"team",href:"http://www.mondora.com"},{title:"formazione",href:"http://www.mondora.com"},{title:"community",href:"http://www.mondora.com"},{title:"my mondora",type:"submenu",items:[{title:"pomodoro",href:"http://reddit.com"},{title:"AaS",href:"http://xkcd.com"}]}]};var o={host:"http://localhost:3000",do_not_autocreate_collections:!0};o.ddpOptions={endpoint:"ws://localhost:3000/websocket",SocketConstructor:WebSocket};var e=new Asteroid(o);e.on("connected",function(){e.status="connected",e.subscribe("homeConfig"),window.postsSubscription=e.subscribe("posts")}),t.HomeConfig=new Asteroid.Collection("homeConfig",e,Asteroid.DumbDb),t.Posts=new Asteroid.Collection("posts",e,Asteroid.DumbDb),e.on("login",function(){t.safeApply(function(){t.signedIn=!0})}),e.on("logout",function(){t.safeApply(function(){t.signedIn=!1})}),t.Rocket=e}]),angular.module("mnd.web").controller("HomeController",["$scope","$collection",function(t){var o="Quando tramite la tastiera modifichiamo il volume o regoliamo la luminosità dello schermo, vediamo apparire delle semplici grafiche esplicative dell'operazione. La stessa cosa non succede però per il blocco maiuscole, per cui siamo costretti a guardare se la spia sul tasto è accesa o spenta. CapSee è una piccola app, compatibile con Mavericks e precedenti, che risolve questo inconveniente, mostrando una grafica in sovraimpressione.";t.text=o,t.login=function(){t.Rocket.loginWithTwitter()}}]),angular.module("mnd.web").controller("PostEditController",["$timeout","$scope","$interval","$stateParams",function(t,o,e,n){var r,i=document.getElementById("postTitleEditor"),s=document.getElementById("postSubtitleEditor"),l=document.getElementById("postBodyEditor");o.save=function(){var t={title:i.innerHTML,subtitle:s.innerHTML,body:l.innerHTML};o.Posts._localMarkForUpdate(r,t),o.Posts._remoteUpdate(r,t)};var a={placeholder:"Titolo",disableToolbar:!0,forcePlainText:!0,disableReturn:!0},c={placeholder:"Sottotitolo",disableToolbar:!0,forcePlainText:!0,disableReturn:!0},d={placeholder:"Corpo",buttons:["bold","italic","underline","anchor","header1","header2","quote","orderedlist","unorderedlist"]};t(function(){window.postsSubscription.then(function(){r=n.postId;var t=o.Posts.db.get(r);i.innerHTML=t.title||"",new MediumEditor(i,a),s.innerHTML=t.subtitle||"",new MediumEditor(s,c),l.innerHTML=t.body||"",new MediumEditor(l,d)}),e(o.save,5e3)},500)}]),angular.module("mnd.web").controller("PostInsertController",["$scope","$state",function(t,o){var e=function(){var e=t.Rocket.collections.posts.insert({});o.go("postEdit",{postId:e})};"connected"!==t.Rocket.status?t.Rocket.on("connected",e):e()}]),angular.module("mnd.web").controller("PostListController",["$timeout","$scope","$collection",function(t,o){t(function(){o.posts=o.Posts.db.itemsArray},500)}]);