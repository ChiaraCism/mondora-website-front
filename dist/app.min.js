!function(){var t={host:"http://localhost:3000",do_not_autocreate_collections:!0};t.ddpOptions={endpoint:"ws://localhost:3000/websocket",SocketConstructor:WebSocket},window.Rocket=new Asteroid(t)}(),angular.module("mnd.web",["ui.bootstrap","ui.router","mnd.sprinkle","mnd.dashboard","asteroid","angular-medium-editor","angularFileUpload"]).config(["$stateProvider","$urlRouterProvider",function(t){t.state("home",{url:"/",templateUrl:"pages/home/home.html",controller:"HomeController"}),t.state("postInsert",{url:"/post/insert",templateUrl:"pages/post/insert/postInsert.html",controller:"PostInsertController"}),t.state("postEdit",{url:"/post/:postId/edit",templateUrl:"pages/post/edit/postEdit.html",controller:"PostEditController",resolve:{postSub:function(){return Rocket.subscribe("posts")}}}),t.state("postList",{url:"/posts",templateUrl:"pages/post/list/postList.html",controller:"PostListController"})}]).run(["$rootScope",function(t){t.safeApply=function(o){var e=t.$$phase;"$apply"===e||"$digest"===e?"function"==typeof o&&o():this.$apply(o)},t.menu={items:[{title:"home",href:"http://www.mondora.com"},{title:"cloud",href:"http://www.mondora.com"},{title:"governance",href:"http://www.mondora.com"},{title:"team",href:"http://www.mondora.com"},{title:"formazione",href:"http://www.mondora.com"},{title:"community",href:"http://www.mondora.com"},{title:"my mondora",type:"submenu",items:[{title:"pomodoro",href:"http://reddit.com"},{title:"AaS",href:"http://xkcd.com"}]}]},Rocket.subscribe("posts"),Rocket.subscribe("homeConfig"),t.HomeConfig=Rocket.createCollection("homeConfig"),t.Posts=Rocket.createCollection("posts"),Rocket.on("login",function(){t.safeApply(function(){t.signedIn=!0})}),Rocket.on("logout",function(){t.safeApply(function(){t.signedIn=!1})}),t.Rocket=Rocket}]),angular.module("mnd.web").controller("HomeController",["$scope","$collection",function(t){var o="Quando tramite la tastiera modifichiamo il volume o regoliamo la luminosità dello schermo, vediamo apparire delle semplici grafiche esplicative dell'operazione. La stessa cosa non succede però per il blocco maiuscole, per cui siamo costretti a guardare se la spia sul tasto è accesa o spenta. CapSee è una piccola app, compatibile con Mavericks e precedenti, che risolve questo inconveniente, mostrando una grafica in sovraimpressione.";t.text=o,t.login=function(){t.Rocket.loginWithTwitter()}}]),angular.module("mnd.web").controller("PostEditController",["$timeout","$scope","$interval","$stateParams","$upload",function(t,o,e,n,r){var l=n.postId,i=o.Posts.db.get(l),s=document.getElementById("postTitleEditor");s.innerHTML=i.title||"",new MediumEditor(s,d);var a=document.getElementById("postSubtitleEditor");a.innerHTML=i.subtitle||"",new MediumEditor(a,p);var c=document.getElementById("postBodyEditor");c.innerHTML=i.body||"",new MediumEditor(c,u),o.save=function(){var t={title:s.innerHTML,subtitle:a.innerHTML,body:c.innerHTML};o.Posts.update(l,t)};var d={placeholder:"Titolo",disableToolbar:!0,forcePlainText:!0,disableReturn:!0},p={placeholder:"Sottotitolo",disableToolbar:!0,forcePlainText:!0,disableReturn:!0},u={placeholder:"Corpo",buttons:["bold","italic","underline","anchor","header1","header2","quote","orderedlist","unorderedlist"]};o.abort=function(){o.imgUpload.abort(),delete o.imgUpload},o.onFileSelect=function(t){var e=t[0],n=Math.round(1e16*Math.random()),l=n+"__"+e.name,i={url:"https://ngtest.s3.amazonaws.com/",method:"POST",data:{key:l,acl:"public-read","Content-Type":e.type},file:e};o.imgUpload=r.upload(i).then(function(t){204===t.status?console.log("Success!"):alert("Upload failed.")})}}]),angular.module("mnd.web").controller("PostInsertController",["$scope","$state",function(t,o){var e=function(){var e=t.Rocket.collections.posts.insert({});o.go("postEdit",{postId:e})};"connected"!==t.Rocket.status?t.Rocket.on("connected",e):e()}]),angular.module("mnd.web").controller("PostListController",["$timeout","$scope","$collection",function(t,o){t(function(){o.posts=o.Posts.db.itemsArray},500)}]);