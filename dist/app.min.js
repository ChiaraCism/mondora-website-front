angular.module("mnd.web",["ui.bootstrap","ui.router","mnd.sprinkle","mnd.dashboard","asteroid","angular-medium-editor"]).config(["$stateProvider","$urlRouterProvider",function(o){o.state("home",{url:"/",templateUrl:"pages/home/home.html",controller:"HomeController"}),o.state("postInsert",{url:"/post/insert",templateUrl:"pages/post/insert/postInsert.html",controller:"PostInsertController"}),o.state("postEdit",{url:"/post/:postId/edit",templateUrl:"pages/post/edit/postEdit.html",controller:"PostEditController"})}]).run(["$rootScope",function(o){o.safeApply=function(t){var e=o.$$phase;"$apply"===e||"$digest"===e?"function"==typeof t&&t():this.$apply(t)},o.menu={items:[{title:"home",href:"http://www.mondora.com"},{title:"cloud",href:"http://www.mondora.com"},{title:"governance",href:"http://www.mondora.com"},{title:"team",href:"http://www.mondora.com"},{title:"formazione",href:"http://www.mondora.com"},{title:"community",href:"http://www.mondora.com"},{title:"my mondora",type:"submenu",items:[{title:"pomodoro",href:"http://reddit.com"},{title:"AaS",href:"http://xkcd.com"}]}]};var t={host:"http://localhost:3000",do_not_autocreate_collections:!0};t.ddpOptions={endpoint:"ws://localhost:3000/websocket",SocketConstructor:WebSocket,debug:!0};var e=new Asteroid(t);e.on("connected",function(){e.status="connected",e.subscribe("homeConfig"),window.postsSubscription=e.subscribe("posts")}),o.HomeConfig=new Asteroid.Collection("homeConfig",e,Asteroid.DumbDb),o.Posts=new Asteroid.Collection("posts",e,Asteroid.DumbDb),e.on("login",function(){o.safeApply(function(){o.signedIn=!0})}),e.on("logout",function(){o.safeApply(function(){o.signedIn=!1})}),o.Rocket=e}]),angular.module("mnd.web").controller("HomeController",["$scope","$collection",function(o){var t="Quando tramite la tastiera modifichiamo il volume o regoliamo la luminosità dello schermo, vediamo apparire delle semplici grafiche esplicative dell'operazione. La stessa cosa non succede però per il blocco maiuscole, per cui siamo costretti a guardare se la spia sul tasto è accesa o spenta. CapSee è una piccola app, compatibile con Mavericks e precedenti, che risolve questo inconveniente, mostrando una grafica in sovraimpressione.";o.text=t,o.login=function(){o.Rocket.loginWithTwitter()}}]),angular.module("mnd.web").controller("PostEditController",["$timeout","$scope","$interval","$stateParams",function(o,t,e,n){var i;o(function(){window.postsSubscription.then(function(){t.$apply(function(){i=n.postId,t.post=t.Posts.db.get(i)})}),t.post={},e(t.save,1e4)},500),t.save=function(){var o={title:t.post.title,subtitle:t.post.subtitle,body:t.post.body};t.Posts._localMarkForUpdate(i,o),t.Posts._remoteUpdate(i,o)},t.titleEditorOptions=JSON.stringify({placeholder:"Titolo",disableToolbar:!0,forcePlainText:!0,disableReturn:!0}),t.subtitleEditorOptions=JSON.stringify({placeholder:"Sottotitolo",disableToolbar:!0,forcePlainText:!0,disableReturn:!0}),t.bodyEditorOptions=JSON.stringify({placeholder:"Corpo",buttons:["bold","italic","underline","anchor","header1","header2","quote","orderedlist","unorderedlist"]})}]),angular.module("mnd.web").controller("PostInsertController",["$scope","$state",function(o,t){var e=function(){var e=o.Rocket.collections.posts.insert({});t.go("postEdit",{postId:e})};"connected"!==o.Rocket.status?o.Rocket.on("connected",e):e()}]);