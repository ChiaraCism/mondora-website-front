function MediumEditor(e,t){"use strict";return this.init(e,t)}!function(){var e=angular.module("angularFileUpload",[]);e.service("$upload",["$http","$timeout",function(e,t){function n(n){n.method=n.method||"POST",n.headers=n.headers||{},n.transformRequest=n.transformRequest||function(t,n){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](t,n)},window.XMLHttpRequest.__isShim&&(n.headers.__setXHR_=function(){return function(e){n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){n.progress&&t(function(){n.progress&&n.progress(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&t(function(){n.progress&&n.progress(e)})},!1)}});var o=e(n);return o.progress=function(e){return n.progress=e,o},o.abort=function(){return n.__XHR&&t(function(){n.__XHR.abort()}),o},o.xhr=function(e){return n.xhrFn=e,o},o.then=function(e,t){return function(o,i,r){n.progress=r||n.progress;var s=t.apply(e,[o,i,r]);return s.abort=e.abort,s.progress=e.progress,s.xhr=e.xhr,s}}(o,o.then),o}this.upload=function(t){t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest||e.defaults.transformRequest;var o=new FormData,i=t.transformRequest,r=t.data;return t.transformRequest=function(e,n){if(r)if(t.formDataAppender)for(var o in r){var s=r[o];t.formDataAppender(e,o,s)}else for(var o in r){var s=r[o];if("function"==typeof i)s=i(s,n);else for(var a=0;a<i.length;a++){var c=i[a];"function"==typeof c&&(s=c(s,n))}e.append(o,s)}if(null!=t.file){var u=t.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(t.file))for(var l="[object String]"===Object.prototype.toString.call(u),a=0;a<t.file.length;a++)e.append(l?u+a:u[a],t.file[a],t.file[a].name);else e.append(u,t.file,t.file.name)}return e},t.data=o,n(t)},this.http=function(e){return n(e)}}]),e.directive("ngFileSelect",["$parse","$timeout",function(e,t){return function(n,o,i){var r=e(i.ngFileSelect);o.bind("change",function(e){var o,i,s=[];if(o=e.target.files,null!=o)for(i=0;i<o.length;i++)s.push(o.item(i));t(function(){r(n,{$files:s,$event:e})})}),o.bind("click",function(){this.value=null})}}]),e.directive("ngFileDropAvailable",["$parse","$timeout",function(e,t){return function(n,o,i){if("draggable"in document.createElement("span")){var r=e(i.ngFileDropAvailable);t(function(){r(n)})}}}]),e.directive("ngFileDrop",["$parse","$timeout",function(e,t){return function(n,o,i){function r(e,t){if(t.isDirectory){var n=t.createReader();c++,n.readEntries(function(t){for(var n=0;n<t.length;n++)r(e,t[n]);c--})}else c++,t.file(function(t){c--,e.push(t)})}if("draggable"in document.createElement("span")){var s=null,a=e(i.ngFileDrop);o[0].addEventListener("dragover",function(e){t.cancel(s),e.stopPropagation(),e.preventDefault(),o.addClass(i.ngFileDragOverClass||"dragover")},!1),o[0].addEventListener("dragleave",function(){s=t(function(){o.removeClass(i.ngFileDragOverClass||"dragover")})},!1);var c=0;o[0].addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),o.removeClass(i.ngFileDragOverClass||"dragover");var s=[],u=e.dataTransfer.items;if(u&&u.length>0&&u[0].webkitGetAsEntry)for(var l=0;l<u.length;l++)r(s,u[l].webkitGetAsEntry());else{var d=e.dataTransfer.files;if(null!=d)for(var l=0;l<d.length;l++)s.push(d.item(l))}!function p(o){t(function(){c?p(10):a(n,{$files:s,$event:e})},o||0)}()},!1)}}}])}(),angular.module("mnd.multi-transclude",[]).directive("mndMultiTransclude",function(){return{link:function(e,t,n,o,i){if(!i)throw new Error("Illegal use of mndMultiTransculde");i(function(e){var o=angular.element("<div></div>");o.append(e);var i="[name="+n.mndMultiTransclude+"]",r=o[0].querySelector(i);r=angular.element(r),t.replaceWith(r)})}}}),angular.module("mnd.dashboard",["ui.bootstrap","mnd.multi-transclude"]).factory("MndSidebarService",function(){var e=!1;return{getSidebarStatus:function(){return e},toggleSidebarStatus:function(){e=!e}}}).directive("mndSidebar",["MndSidebarService",function(e){return{restrict:"EA",templateUrl:"template/sidebar.html",transclude:!0,scope:{menu:"="},link:function(t){t.isSubmenu=function(e){return"submenu"===e.type},t.toggleSubmenu=function(e){"submenu"===e.type&&(e.open=!e.open)},t.sidebarOpen=e.getSidebarStatus(),t.$on("sidebarStatusChanged",function(){t.sidebarOpen=e.getSidebarStatus()})}}}]).directive("mndToggleSidebar",["MndSidebarService",function(e){return{restrict:"EA",templateUrl:"template/toggle-sidebar.html",scope:{},link:function(t){t.sidebarOpen=e.getSidebarStatus(),t.toggle=function(){e.toggleSidebarStatus(),t.$parent.$broadcast("sidebarStatusChanged")},t.$on("sidebarStatusChanged",function(){t.sidebarOpen=e.getSidebarStatus()})}}}]).directive("mndContent",["MndSidebarService",function(e){return{restrict:"EA",templateUrl:"template/content.html",scope:{},transclude:!0,link:function(t){t.sidebarOpen=e.getSidebarStatus(),t.$on("sidebarStatusChanged",function(){t.sidebarOpen=e.getSidebarStatus()})}}}]),function(e){try{e=angular.module("mnd.dashboard")}catch(t){e=angular.module("mnd.dashboard",[])}e.run(["$templateCache",function(e){e.put("template/content.html",'<div id="mnd-content" ng-class="{\'sidebar-open\': sidebarOpen}" ng-transclude></div>\n')}])}(),function(e){try{e=angular.module("mnd.dashboard")}catch(t){e=angular.module("mnd.dashboard",[])}e.run(["$templateCache",function(e){e.put("template/sidebar.html",'<div id="mnd-sidebar" ng-class="{\'sidebar-open\': sidebarOpen}">\n	<div mnd-multi-transclude="before"></div>\n	<ul class="nav">\n		<li ng-repeat="item in menu.items" ng-click="toggleSubmenu(item)" class="mnd-clickable">\n			<a ng-href="{{item.href}}">\n				<span class="mnd-width-20" ng-if="item.icon">\n					<i class="fa {{item.icon}}"></i>\n				</span>\n				{{item.title}}\n				<span ng-if="isSubmenu(item)" class="pull-right">\n					<i ng-if="!item.open"class="fa fa-angle-left"></i>\n					<i ng-if="item.open"class="fa fa-angle-down"></i>\n				</span>\n			</a>\n			<ul ng-if="isSubmenu(item)" collapse="!item.open" class="nav nav-second-level">\n				<li ng-repeat="subitem in item.items">\n					<a ng-href="{{subitem.href}}">\n						<span class="mnd-width-20"></span>\n						<span class="mnd-width-20" ng-if="subitem.icon">\n							<i class="fa {{subitem.icon}}"></i>\n						</span>\n						{{subitem.title}}\n					</a>\n				</li>\n			</ul>\n		</li>\n	</ul>\n	<div mnd-multi-transclude="after">\n		<div id="mnd-sidebar-footer">\n			<span>\n				MONDORA Srl \n			</span>\n			<br />\n			Milano, Morbegno, Novara, St. Moritz (CH)<br />\n			Via Cornalia 7 <br />\n			20154, Milano <br />\n		</div>\n	</div>\n</div>\n')}])}(),function(e){try{e=angular.module("mnd.dashboard")}catch(t){e=angular.module("mnd.dashboard",[])}e.run(["$templateCache",function(e){e.put("template/toggle-sidebar.html",'<div id="mnd-toggle-sidebar" ng-class="{\'sidebar-open\': sidebarOpen}">\n	<div id="mnd-show-sidebar" ng-click="toggle()">\n		<i class="fa fa-bars" ng-show="!sidebarOpen"></i>\n		<i class="fa fa-times" ng-show="sidebarOpen"></i>\n	</div>\n	<div id="mnd-sidebar-logo">\n		<div class="mnd-mondora-logo">\n			<img src="http://mnd-website.s3.amazonaws.com/img/mondora-logo.png" />\n		</div>\n	</div>\n</div>\n')}])}(),angular.module("mnd.sprinkle",[]).factory("MndWordProcessingService",function(){return function(e){var t={};if(2===e.length)t.left=e[0],t.pivot=e[1],t.right="";else{var n=Math.ceil(e.length/2-1);t.left=e.slice(0,n),t.right=e.slice(n+1),t.pivot=e.slice(n,n+1)}return t.multiplier=/[\,\:\;]$/g.test(e)?1.5:/[\.\!\?]$/g.test(e)?2:1,t}}).factory("MndWordSplittingService",function(){return function(e){var t=e.split(/\s+/);return t}}).directive("mndSprinkle",["$timeout","MndWordSplittingService","MndWordProcessingService",function(e,t,n){return{restrict:"EA",templateUrl:"templates/sprinkle.html",scope:{text:"@",defaultWpm:"@?",autoplay:"@?",autoplayDelay:"@?",progressPercentage:"=?"},link:function(o){o._words=t(o.text),o._wordIndex=0,o._msPerWord=function(){return Math.floor(6e4/o.wpm)},o.increaseSpeed=function(e){var t=o.wpm;t+=e||50,o.wpm=t},o.decreaseSpeed=function(e){var t=o.wpm;t-=e||50,50>t&&(t=50),o.wpm=t},o.wpm=parseInt(o.defaultWpm||"250",10);var i=function(){var t=o._words[o._wordIndex],r=n(t);o.word=r;var s=r.multiplier*o._msPerWord();o._wordIndex++,o.progressPercentage=o._wordIndex/o._words.length*100,o._wordIndex<o._words.length?o._timeout=e(i,s):(o.running=!1,o._wordIndex=0)};if(o.running=!1,o.start=function(){o.running||(o.running=!0,i())},o.pause=function(){o.running&&(e.cancel(o._timeout),o.running=!1)},o.rewind=function(){o._wordIndex=0},o.stop=function(){o.pause(),o.rewind()},"true"===o.autoplay){var r=parseInt(o.autoplayDelay,10),s=isNaN(r)?0:r;e(function(){o.start()},1e3*s)}}}}]),function(e){try{e=angular.module("mnd.sprinkle")}catch(t){e=angular.module("mnd.sprinkle",[])}e.run(["$templateCache",function(e){e.put("templates/sprinkle.html",'<div class="sprinkle-container">\n	<div class="sprinkle-result">\n		\n		<span class="sprinkle-left">\n			&nbsp;\n			{{word.left}}\n		</span>\n		<span class="sprinkle-pivot">\n			<div class="sprinkle-center-line-top"></div>\n			<div class="sprinkle-center-line-center"></div>\n			<div class="sprinkle-center-line-bottom"></div>	\n			{{word.pivot}}\n		</span>\n		<span class="sprinkle-right">\n			{{word.right}}\n		</span>\n	</div>\n	<div class="sprinkle-control-bar">\n		<div class="sprinkle-control-bar-left">\n			<div class="sprinkle-control-btn" ng-click="rewind()"><i class="fa fa-refresh"></i></div>\n			<div class="sprinkle-control-btn" ng-if="running" ng-click="pause()"><i class="fa fa-pause"></i></div>\n			<div class="sprinkle-control-btn" ng-if="!running" ng-click="start()"><i class="fa fa-play"></i></div>\n		</div>\n		<div class="sprinkle-control-bar-right">\n			<div class="sprinkle-control-btn" ng-click="decreaseSpeed()"><i class="fa fa-minus"></i></div>\n			<div class="sprinkle-control-wpm">{{wpm}} wpm </div>\n			<div class="sprinkle-control-btn" ng-click="increaseSpeed()"><i class="fa fa-plus"></i></div>\n		</div>\n	</div>\n<br />\n<br />\n<br />\n\n</div>\n')}])}(),function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){"use strict";function e(e){return function(){return z.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===tt(e)||e instanceof W}function o(e,t){if(F&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(nt)){for(var n=[],o=t;o;o=o.source)o.stack&&n.unshift(o.stack);n.unshift(e.stack);var r=n.join("\n"+nt+"\n");e.stack=i(r)}}function i(e){for(var t=e.split("\n"),n=[],o=0;o<t.length;++o){var i=t[o];a(i)||r(i)||!i||n.push(i)}return n.join("\n")}function r(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function s(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var o=/.*@(.+):(\d+)$/.exec(e);return o?[o[1],Number(o[2])]:void 0}function a(e){var t=s(e);if(!t)return!1;var n=t[0],o=t[1];return n===B&&o>=U&&st>=o}function c(){if(F)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],o=s(n);if(!o)return;return B=o[0],o[1]}}function u(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function l(e){return g(e)?e:b(e)?C(e):L(e)}function d(){function e(e){t=e,r.source=e,X(n,function(t,n){Q(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,o=void 0}var t,n=[],o=[],i=K(d.prototype),r=K(f.prototype);if(r.promiseDispatch=function(e,i,r){var s=V(arguments);n?(n.push(s),"when"===i&&r[1]&&o.push(r[1])):Q(function(){t.promiseDispatch.apply(t,s)})},r.valueOf=function(){if(n)return r;var e=v(t);return g(e)&&(t=e),e},r.inspect=function(){return t?t.inspect():{state:"pending"}},l.longStackSupport&&F)try{throw new Error}catch(s){r.stack=s.stack.substring(s.stack.indexOf("\n")+1)}return i.promise=r,i.resolve=function(n){t||e(l(n))},i.fulfill=function(n){t||e(L(n))},i.reject=function(n){t||e(T(n))},i.notify=function(e){t||X(o,function(t,n){Q(function(){n(e)})},void 0)},i}function p(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function h(e){return p(function(t,n){for(var o=0,i=e.length;i>o;o++)l(e[o]).then(t,n)})}function f(e,t,n){void 0===t&&(t=function(e){return T(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var o=K(f.prototype);if(o.promiseDispatch=function(n,i,r){var s;try{s=e[i]?e[i].apply(o,r):t.call(o,i,r)}catch(a){s=T(a)}n&&n(s)},o.inspect=n,n){var i=n();"rejected"===i.state&&(o.exception=i.reason),o.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?o:e.value}}return o}function m(e,t,n,o){return l(e).then(t,n,o)}function v(e){if(g(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function g(e){return t(e)&&"function"==typeof e.promiseDispatch&&"function"==typeof e.inspect}function b(e){return t(e)&&"function"==typeof e.then}function y(e){return g(e)&&"pending"===e.inspect().state}function _(e){return!g(e)||"fulfilled"===e.inspect().state}function w(e){return g(e)&&"rejected"===e.inspect().state}function k(){ot.length=0,it.length=0,rt||(rt=!0)}function S(e,t){rt&&(it.push(e),ot.push(t&&"undefined"!=typeof t.stack?t.stack:"(no stack) "+t))}function A(e){if(rt){var t=G(it,e);-1!==t&&(it.splice(t,1),ot.splice(t,1))}}function T(e){var t=f({when:function(t){return t&&A(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return S(t,e),t}function L(e){return f({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return et(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=d();return Q(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function E(e){return f({isDef:function(){}},function(t,n){return I(e,t,n)},function(){return l(e).inspect()})}function x(e,t,n){return l(e).spread(t,n)}function R(e){return function(){function t(e,t){var s;if("undefined"==typeof StopIteration){try{s=o[e](t)}catch(a){return T(a)}return s.done?s.value:m(s.value,i,r)}try{s=o[e](t)}catch(a){return n(a)?a.value:T(a)}return m(s,i,r)}var o=e.apply(this,arguments),i=t.bind(t,"next"),r=t.bind(t,"throw");return i()}}function N(e){l.done(l.async(e)())}function P(e){throw new W(e)}function O(e){return function(){return x([this,j(arguments)],function(t,n){return e.apply(t,n)})}}function I(e,t,n){return l(e).dispatch(t,n)}function j(e){return m(e,function(e){var t=0,n=d();return X(e,function(o,i,r){var s;g(i)&&"fulfilled"===(s=i.inspect()).state?e[r]=s.value:(++t,m(i,function(o){e[r]=o,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:r,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function D(e){return m(e,function(e){return e=Y(e,l),m(j(Y(e,function(e){return m(e,J,J)})),function(){return e})})}function M(e){return l(e).allSettled()}function q(e,t){return l(e).then(void 0,void 0,t)}function H(e,t){return l(e).nodeify(t)}var F=!1;try{throw new Error}catch($){F=!!$.stack}var B,W,U=c(),J=function(){},Q=function(){function e(){for(;t.next;){t=t.next;var n=t.task;t.task=void 0;var i=t.domain;i&&(t.domain=void 0,i.enter());try{n()}catch(s){if(r)throw i&&i.exit(),setTimeout(e,0),i&&i.enter(),s;setTimeout(function(){throw s},0)}i&&i.exit()}o=!1}var t={task:void 0,next:null},n=t,o=!1,i=void 0,r=!1;if(Q=function(e){n=n.next={task:e,domain:r&&process.domain,next:null},o||(o=!0,i())},"undefined"!=typeof process&&process.nextTick)r=!0,i=function(){process.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){i=a,s.port1.onmessage=e,e()};var a=function(){s.port2.postMessage(0)};i=function(){setTimeout(e,0),a()}}else i=function(){setTimeout(e,0)};return Q}(),z=Function.call,V=e(Array.prototype.slice),X=e(Array.prototype.reduce||function(e,t){var n=0,o=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=o)throw new TypeError}for(;o>n;n++)n in this&&(t=e(t,this[n],n));return t}),G=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Y=e(Array.prototype.map||function(e,t){var n=this,o=[];return X(n,function(i,r,s){o.push(e.call(t,r,s,n))},void 0),o}),K=Object.create||function(e){function t(){}return t.prototype=e,new t},Z=e(Object.prototype.hasOwnProperty),et=Object.keys||function(e){var t=[];for(var n in e)Z(e,n)&&t.push(n);return t},tt=e(Object.prototype.toString);W="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var nt="From previous event:";l.resolve=l,l.nextTick=Q,l.longStackSupport=!1,l.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):e.resolve(arguments.length>2?V(arguments,1):n)}},l.Promise=p,l.promise=p,p.race=h,p.all=j,p.reject=T,p.resolve=l,l.passByCopy=function(e){return e},f.prototype.passByCopy=function(){return this},l.join=function(e,t){return l(e).join(t)},f.prototype.join=function(e){return l([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},l.race=h,f.prototype.race=function(){return this.then(l.race)},l.makePromise=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return T(n)}}function r(e){if("function"==typeof t){o(e,a);try{return t(e)}catch(n){return T(n)}}return T(e)}function s(e){return"function"==typeof n?n(e):e}var a=this,c=d(),u=!1;return Q(function(){a.promiseDispatch(function(e){u||(u=!0,c.resolve(i(e)))},"when",[function(e){u||(u=!0,c.resolve(r(e)))}])}),a.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=s(e)}catch(o){if(n=!0,!l.onerror)throw o;l.onerror(o)}n||c.notify(t)}]),c.promise},l.when=m,f.prototype.thenResolve=function(e){return this.then(function(){return e})},l.thenResolve=function(e,t){return l(e).thenResolve(t)},f.prototype.thenReject=function(e){return this.then(function(){throw e})},l.thenReject=function(e,t){return l(e).thenReject(t)},l.nearer=v,l.isPromise=g,l.isPromiseAlike=b,l.isPending=y,f.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=_,f.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=w,f.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ot=[],it=[],rt=!0;l.resetUnhandledRejections=k,l.getUnhandledReasons=function(){return ot.slice()},l.stopUnhandledRejectionTracking=function(){k(),rt=!1},k(),l.reject=T,l.fulfill=L,l.master=E,l.spread=x,f.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},l.async=R,l.spawn=N,l["return"]=P,l.promised=O,l.dispatch=I,f.prototype.dispatch=function(e,t){var n=this,o=d();return Q(function(){n.promiseDispatch(o.resolve,e,t)}),o.promise},l.get=function(e,t){return l(e).dispatch("get",[t])},f.prototype.get=function(e){return this.dispatch("get",[e])},l.set=function(e,t,n){return l(e).dispatch("set",[t,n])},f.prototype.set=function(e,t){return this.dispatch("set",[e,t])},l.del=l["delete"]=function(e,t){return l(e).dispatch("delete",[t])},f.prototype.del=f.prototype["delete"]=function(e){return this.dispatch("delete",[e])},l.mapply=l.post=function(e,t,n){return l(e).dispatch("post",[t,n])},f.prototype.mapply=f.prototype.post=function(e,t){return this.dispatch("post",[e,t])},l.send=l.mcall=l.invoke=function(e,t){return l(e).dispatch("post",[t,V(arguments,2)])},f.prototype.send=f.prototype.mcall=f.prototype.invoke=function(e){return this.dispatch("post",[e,V(arguments,1)])},l.fapply=function(e,t){return l(e).dispatch("apply",[void 0,t])},f.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},l["try"]=l.fcall=function(e){return l(e).dispatch("apply",[void 0,V(arguments,1)])},f.prototype.fcall=function(){return this.dispatch("apply",[void 0,V(arguments)])},l.fbind=function(e){var t=l(e),n=V(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(V(arguments))])}},f.prototype.fbind=function(){var e=this,t=V(arguments);return function(){return e.dispatch("apply",[this,t.concat(V(arguments))])}},l.keys=function(e){return l(e).dispatch("keys",[])},f.prototype.keys=function(){return this.dispatch("keys",[])},l.all=j,f.prototype.all=function(){return j(this)},l.allResolved=u(D,"allResolved","allSettled"),f.prototype.allResolved=function(){return D(this)},l.allSettled=M,f.prototype.allSettled=function(){return this.then(function(e){return j(Y(e,function(e){function t(){return e.inspect()}return e=l(e),e.then(t,t)}))})},l.fail=l["catch"]=function(e,t){return l(e).then(void 0,t)},f.prototype.fail=f.prototype["catch"]=function(e){return this.then(void 0,e)},l.progress=q,f.prototype.progress=function(e){return this.then(void 0,void 0,e)},l.fin=l["finally"]=function(e,t){return l(e)["finally"](t)},f.prototype.fin=f.prototype["finally"]=function(e){return e=l(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},l.done=function(e,t,n,o){return l(e).done(t,n,o)},f.prototype.done=function(e,t,n){var i=function(e){Q(function(){if(o(e,r),!l.onerror)throw e;l.onerror(e)})},r=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),r.then(void 0,i)},l.timeout=function(e,t,n){return l(e).timeout(t,n)},f.prototype.timeout=function(e,t){var n=d(),o=setTimeout(function(){n.reject(new Error(t||"Timed out after "+e+" ms"))},e);return this.then(function(e){clearTimeout(o),n.resolve(e)},function(e){clearTimeout(o),n.reject(e)},n.notify),n.promise},l.delay=function(e,t){return void 0===t&&(t=e,e=void 0),l(e).delay(t)},f.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},l.nfapply=function(e,t){return l(e).nfapply(t)},f.prototype.nfapply=function(e){var t=d(),n=V(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},l.nfcall=function(e){var t=V(arguments,1);return l(e).nfapply(t)},f.prototype.nfcall=function(){var e=V(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},l.nfbind=l.denodeify=function(e){var t=V(arguments,1);return function(){var n=t.concat(V(arguments)),o=d();return n.push(o.makeNodeResolver()),l(e).fapply(n).fail(o.reject),o.promise}},f.prototype.nfbind=f.prototype.denodeify=function(){var e=V(arguments);return e.unshift(this),l.denodeify.apply(void 0,e)},l.nbind=function(e,t){var n=V(arguments,2);return function(){function o(){return e.apply(t,arguments)}var i=n.concat(V(arguments)),r=d();return i.push(r.makeNodeResolver()),l(o).fapply(i).fail(r.reject),r.promise}},f.prototype.nbind=function(){var e=V(arguments,0);return e.unshift(this),l.nbind.apply(void 0,e)},l.nmapply=l.npost=function(e,t,n){return l(e).npost(t,n)},f.prototype.nmapply=f.prototype.npost=function(e,t){var n=V(t||[]),o=d();return n.push(o.makeNodeResolver()),this.dispatch("post",[e,n]).fail(o.reject),o.promise},l.nsend=l.nmcall=l.ninvoke=function(e,t){var n=V(arguments,2),o=d();return n.push(o.makeNodeResolver()),l(e).dispatch("post",[t,n]).fail(o.reject),o.promise},f.prototype.nsend=f.prototype.nmcall=f.prototype.ninvoke=function(e){var t=V(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},l.nodeify=H,f.prototype.nodeify=function(e){return e?void this.then(function(t){Q(function(){e(null,t)})},function(t){Q(function(){e(t)})}):this};var st=c();return l}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.DDP=t()}(this,function(){"use strict";var e=function(){var e=0;return function(){return(e++).toString()}}(),t='{"server_id":"0"}',n=10,o=500,i=["added","changed","connected","error","failed","nosub","ready","removed","result","updated"],r=function(e){this._endpoint=e.endpoint,this._SocketConstructor=e.SocketConstructor,this._autoreconnect=!e.do_not_autoreconnect,this._debug=e.debug,this._onReadyCallbacks={},this._onResultCallbacks={},this._onUpdatedCallbacks={},this._events={},this._queue=[],this.readyState=-1,this._reconnect_count=0,this._reconnect_incremental_timer=0,e.do_not_autoconnect||this.connect()};return r.prototype.constructor=r,r.prototype.connect=function(){this._socket=new this._SocketConstructor(this._endpoint),this.readyState=0,this._socket.onopen=this._on_socket_open.bind(this),this._socket.onmessage=this._on_socket_message.bind(this),this._socket.onerror=this._on_socket_error.bind(this),this._socket.onclose=this._on_socket_close.bind(this)},r.prototype.method=function(t,n,o,i){var r=e();this._onResultCallbacks[r]=o,this._onUpdatedCallbacks[r]=i,this._send({msg:"method",id:r,method:t,params:n})},r.prototype.sub=function(t,n,o){var i=e();this._onReadyCallbacks[i]=o,this._send({msg:"sub",id:i,name:t,params:n})},r.prototype.unsub=function(e){this._send({msg:"unsub",id:e})},r.prototype.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},r.prototype.off=function(e,t){this._events[e]&&this._events[e].splice(this._events[e].indexOf(t),1)},r.prototype._emit=function(e){if(this._events[e]){var t=arguments,n=this;this._events[e].forEach(function(e){e.apply(n,Array.prototype.slice.call(t,1))})}},r.prototype._send=function(e){if(1!==this.readyState&&"connect"!==e.msg)return void this._queue.push(e);var t;t="undefined"==typeof EJSON?JSON.stringify(e):EJSON.stringify(e),this._socket.send(t)},r.prototype._try_reconnect=function(){this._reconnect_count<n&&setTimeout(this.connect.bind(this),this._reconnect_incremental_timer),this._reconnect_count+=1,this._reconnect_incremental_timer+=o*this._reconnect_count},r.prototype._on_result=function(e){if(this._onResultCallbacks[e.id])this._onResultCallbacks[e.id](e.error,e.result),delete this._onResultCallbacks[e.id],e.error&&delete this._onUpdatedCallbacks[e.id];else if(e.error)throw delete this._onUpdatedCallbacks[e.id],e.error},r.prototype._on_updated=function(e){var t=this;e.methods.forEach(function(e){t._onUpdatedCallbacks[e]&&(t._onUpdatedCallbacks[e](),delete t._onUpdatedCallbacks[e])})},r.prototype._on_nosub=function(e){if(!this._onReadyCallbacks[e.id])throw e.error;this._onReadyCallbacks[e.id](e.error,e.id),delete this._onReadyCallbacks[e.id]},r.prototype._on_ready=function(e){var t=this;e.subs.forEach(function(e){t._onReadyCallbacks[e]&&(t._onReadyCallbacks[e](null,e),delete t._onReadyCallbacks[e])})},r.prototype._on_error=function(e){this._emit("error",e)},r.prototype._on_connected=function(e){this.readyState=1,this._reconnect_count=0,this._reconnect_incremental_timer=0,this._emit("connected",e);for(var t=this._queue.length,n=0;t>n;n++)this._send(this._queue.shift())},r.prototype._on_failed=function(e){this.readyState=4,this._emit("failed",e)},r.prototype._on_added=function(e){this._emit("added",e)},r.prototype._on_removed=function(e){this._emit("removed",e)},r.prototype._on_changed=function(e){this._emit("changed",e)},r.prototype._on_socket_close=function(){this.readyState=4,this._emit("socket_close"),this._autoreconnect&&this._try_reconnect()},r.prototype._on_socket_error=function(e){this.readyState=4,this._emit("socket_error",e),this._autoreconnect&&this._try_reconnect()},r.prototype._on_socket_open=function(){this._send({msg:"connect",version:"pre1",support:["pre1"]})},r.prototype._on_socket_message=function(e){var n;if(this._debug&&console.log(e),e.data!==t){try{if(n="undefined"==typeof EJSON?JSON.parse(e.data):EJSON.parse(e.data),-1===i.indexOf(n.msg))throw new Error}catch(o){return console.warn("Non DDP message received:"),void console.warn(e.data)}this["_on_"+n.msg](n)}},r}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Asteroid=t()}(this,function(){"use strict";function e(e){if("undefined"!=typeof EJSON)return EJSON.clone(e);var t=typeof e;switch(t){case"undefined":case"function":return void 0;case"string":case"number":case"boolean":return e;case"object":return null===e?null:JSON.parse(JSON.stringify(e));default:return}}function t(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t=t.slice(0,-1)}function n(){for(var e="",t=0;8>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e}function o(e,t){var n=JSON.stringify(e),o=JSON.stringify(t);return n===o}var i=function(){};i.prototype={constructor:i,_events:{},on:function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){this._events[e]&&this._events[e].splice(this._events[e].indexOf(t),1)},_emit:function(e){if(this._events[e]){var t=arguments,n=this;this._events[e].forEach(function(e){e.apply(n,Array.prototype.slice.call(t,1))})}}};var r=function(e){this._host=e.host,this._ddpOptions=e.ddpOptions,this._ddpOptions.do_not_autoconnect=!0,this._do_not_autocreate_collections=e._do_not_autocreate_collections,this.collections={},this.subscriptions={},this._init()};r.prototype=new i,r.prototype.constructor=r,r.prototype._init=function(){var e=this;e.ddp=new DDP(this._ddpOptions),e.ddp.on("connected",function(){e._tryResumeLogin(),e.ddp.sub("meteor.loginServiceConfiguration"),e._emit("connected")}),e.ddp.on("added",function(t){e._onAdded(t)}),e.ddp.on("changed",function(t){e._onChanged(t)}),e.ddp.on("removed",function(t){e._onRemoved(t)}),e.ddp.connect()},r.prototype._onAdded=function(e){var t=["meteor_accounts_loginServiceConfiguration","users"],n=e.collection;if(!this.collections[n]){if(this._do_not_autocreate_collections&&-1===t.indexOf(n))return;this.createCollection(n)}var o=e.fields||{};o._id=e.id,this.collections[n]._remoteToLocalInsert(o)},r.prototype._onRemoved=function(e){this.collections[e.collection]&&this.collections[e.collection]._remoteToLocalRemove(e.id)},r.prototype._onChanged=function(e){this.collections[e.collection]&&(e.fields||(e.fields={}),e.cleared&&e.cleared.forEach(function(t){e.fields[t]=void 0}),this.collections[e.collection]._remoteToLocalUpdate(e.id,e.fields))},r.prototype.subscribe=function(e){if(this.subscriptions[e])return this.subscriptions[e];var t=Q.defer();this.subscriptions[e]=t.promise;var n=Array.prototype.slice.call(arguments,1);return this.ddp.sub(e,n,function(e,n){e?t.reject(e,n):t.resolve(n)}),this.subscriptions[e]},r.prototype.unsubscribe=function(e){this.ddp.unsub(e)},r.prototype.call=function(e){var t=Array.prototype.slice.call(arguments,1);return this.apply(e,t)},r.prototype.apply=function(e,t){var n=Q.defer(),o=Q.defer(),i=function(e,t){e?(n.reject(e),o.reject()):n.resolve(t)},r=function(){o.resolve()};return this.ddp.method(e,t,i,r),{result:n.promise,updated:o.promise}},r.prototype.createCollection=function(e){return this.collections[e]||(this.collections[e]=new s(e,this,u)),this.collections[e]};var s=function(e,t,n){this.name=e,this.asteroid=t,this.db=new n};s.prototype=new i,s.prototype.constructor=s,s.prototype._localToLocalInsert=function(e){var t=this.db.get(e._id);if(t)throw new Error("Item exists");this.db.set(e._id,e),this._emit("insert",e._id)},s.prototype._remoteToLocalInsert=function(e){var t=this.db.get(e._id);o(t,e)||(this.db.set(e._id,e),this._emit("insert",e._id))},s.prototype._restoreInserted=function(e){self.db.del(e),self._emit("restore",e)
},s.prototype._localToRemoteInsert=function(e){var t=this,n=Q.defer(),o="/"+t.name+"/insert";return this.asteroid.ddp.method(o,[e],function(o,i){o?(t._restoreInserted(e._id),n.reject(o)):n.resolve(i)}),n.promise},s.prototype.insert=function(e){return e._id||(e._id=n()),this._localToLocalInsert(e,!1),this._localToRemoteInsert(e)};var a="__del__";s.prototype._localToLocalRemove=function(e){var t=this.db.get(e);return t?(this.db.set(e+a,t),this.db.del(e),void this._emit("remove",e)):void console.warn("Item not present.")},s.prototype._remoteToLocalRemove=function(e){var t=this.db.get(e);return t?(this.db.del(e),this.db.del(e+a),void this._emit("remove",e)):void console.warn("Item not present.")},s.prototype._restoreRemoved=function(e){var t=this.db.get(e+a);this.db.set(e,t),this.db.del(e+a),this._emit("restore",e)},s.prototype._localToRemoteRemove=function(e){var t=this,n=Q.defer(),o="/"+t.name+"/remove";return this.asteroid.ddp.method(o,[{_id:e}],function(o,i){o?(t._restoreRemoved(e),n.reject(o)):n.resolve(i)}),n.promise},s.prototype.remove=function(e){return this._localToLocalRemove(e),this._localToRemoteRemove(e)};var c="__upd__";s.prototype._localToLocalUpdate=function(e,t){var n=this.db.get(e);if(!n)throw new Error("Item not present");this.db.set(e+c,n),this.db.set(e,t),this._emit("update",e)},s.prototype._remoteToLocalUpdate=function(e,t){var n=this.db.get(e);if(!n)return void console.warn("Item not present");for(var o in t)n[o]=t[o];this.db.set(e,n),this.db.del(e+c),this._emit("update",e)},s.prototype._restoreUpdated=function(e){var t=this.db.get(e+c);this.db.set(e,t),this.db.del(e+c),this._emit("restore",e)},s.prototype._localToRemoteUpdate=function(e,t){var n=this,o="/"+n.name+"/update",i={_id:e},r={$set:t};return this.asteroid.ddp.method(o,[i,r],function(t,o){t?(n._restoreUpdated(e),deferred.reject(t)):deferred.resolve(o)}),deferred.promise},s.prototype.update=function(e,t){return this._localToLocalUpdate(e,t),this._localToRemoteUpdate(e,t)};var u=function(){this.itemsHash={},this.itemsArray=[]};return u.prototype.constructor=u,u.prototype.set=function(t,n){n=e(n),this.itemsHash[t]=n,this.itemsArray.push(n)},u.prototype.get=function(t){return e(this.itemsHash[t])},u.prototype.del=function(e){if(this.itemsHash[e]){var t=this.itemsArray.indexOf(this.itemsHash[e]);this.itemsArray.splice(t,1),delete this.itemsHash[e]}},u.prototype.ls=function(){return e(this.itemsArray)},r.DumbDb=u,r.prototype._getOauthClientId=function(e){var t="meteor_accounts_loginServiceConfiguration",n=this.collections[t].db.itemsArray,o="";return n.forEach(function(t){t.service===e&&("facebook"===e&&(o=t.appId),"google"===e&&(o=t.clientId),"github"===e&&(o=t.clientId),"twitter"===e&&(o=t.consumerKey))}),o},r.prototype._initOauthLogin=function(e,t,n){var o=this;return Q().then(function(){var e=Q.defer(),t=window.open(n,"Login");t.focus&&t.focus();var o=setInterval(function(){(t.closed||void 0===t.closed)&&(clearInterval(o),e.resolve())},100);return e.promise}).then(function(){var e=Q.defer(),n={oauth:{credentialToken:t}};return o.ddp.method("login",[n],function(t,n){t?(delete o.userId,delete o.loggedIn,delete localStorage[o._host+"__login_token__"],e.reject(t),o._emit("loginError",t)):(o.userId=n.id,o.loggedIn=!0,localStorage[o._host+"__login_token__"]=n.token,o._emit("login",n),e.resolve(n.id))}),e.promise})},r.prototype._tryResumeLogin=function(){var e=this,t=localStorage[e._host+"__login_token__"];return t?Q().then(function(){var n=Q.defer(),o={resume:t};return e.ddp.method("login",[o],function(t,o){t?(delete e.userId,delete e.loggedIn,delete localStorage[e._host+"__login_token__"],e._emit("loginError",t),n.reject(t)):(e.userId=o.id,e.loggedIn=!0,localStorage[e._host+"__login_token__"]=o.token,e._emit("login",o),n.resolve(o.id))}),n.promise}):void 0},r.prototype.loginWithFacebook=function(e){var o=n(),i={client_id:this._getOauthClientId("facebook"),redirect_uri:this._host+"/_oauth/facebook?close",state:o,scope:e||"email"},r="https://www.facebook.com/dialog/oauth?"+t(i);return this._initOauthLogin("facebook",o,r)},r.prototype.loginWithGoogle=function(e){var o=n(),i={response_type:"code",client_id:this._getOauthClientId("google"),redirect_uri:this._host+"/_oauth/google?close",state:o,scope:e||"openid email"},r="https://accounts.google.com/o/oauth2/auth?"+t(i);return this._initOauthLogin("google",o,r)},r.prototype.loginWithGithub=function(e){var o=n(),i={client_id:this._getOauthClientId("github"),redirect_uri:this._host+"/_oauth/github?close",state:o,scope:e||"email"},r="https://github.com/login/oauth/authorize?"+t(i);return this._initOauthLogin("github",o,r)},r.prototype.loginWithTwitter=function(){var e=n(),o=this._host+"/_oauth/twitter?close&state="+e,i={requestTokenAndRedirect:encodeURIComponent(o),state:e},r=this._host+"/_oauth/twitter/?"+t(i);return this._initOauthLogin("twitter",e,r)},r.prototype.logout=function(){var e=Q.defer();return self.ddp.method("logout",[],function(t,n){t?(self._emit("logoutError",t),e.reject(t)):(delete self.userId,delete self.loggedIn,delete localStorage[self._host+"__login_token__"],self._emit("logout",n),e.resolve(n))}),e.promise},r}),angular.module("asteroid",[]).factory("$collection",function(e){return function(t){var n={},o=function(e){return JSON.parse(JSON.stringify(e))},i=function(){n.array=o(t.db.itemsArray),n.hash=o(t.db.itemsHash)};return t.on("change",function(){e(i,0)}),i(),n}}),"object"==typeof module&&(module.exports=MediumEditor),function(e,t){"use strict";function n(e,t){var n;if(void 0===e)return t;for(n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)===!1&&(e[n]=t[n]);return e}function o(){var t,n,o,i=e.getSelection();if(i.getRangeAt&&i.rangeCount){for(o=[],t=0,n=i.rangeCount;n>t;t+=1)o.push(i.getRangeAt(t));return o}return null}function i(t){var n,o,i=e.getSelection();if(t)for(i.removeAllRanges(),n=0,o=t.length;o>n;n+=1)i.addRange(t[n])}function r(){var e=t.getSelection().anchorNode,n=e&&3===e.nodeType?e.parentNode:e;return n}function s(){var n,o,i,r,s="";if(void 0!==e.getSelection){if(o=e.getSelection(),o.rangeCount){for(r=t.createElement("div"),n=0,i=o.rangeCount;i>n;n+=1)r.appendChild(o.getRangeAt(n).cloneContents());s=r.innerHTML}}else void 0!==t.selection&&"Text"===t.selection.type&&(s=t.selection.createRange().htmlText);return s}function a(e){return!(!e||1!==e.nodeType)}MediumEditor.prototype={defaults:{allowMultiParagraphSelection:!0,anchorInputPlaceholder:"Paste or type a link",anchorPreviewHideDelay:500,buttons:["bold","italic","underline","anchor","header1","header2","quote"],buttonLabels:!1,checkLinkFormat:!1,cleanPastedHTML:!1,delay:0,diffLeft:0,diffTop:-10,disableReturn:!1,disableDoubleReturn:!1,disableToolbar:!1,firstHeader:"h3",forcePlainText:!0,placeholder:"Type your text",secondHeader:"h4",targetBlank:!1,extensions:{}},isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),init:function(e,o){return this.elements="string"==typeof e?t.querySelectorAll(e):e,1===this.elements.nodeType&&(this.elements=[this.elements]),0!==this.elements.length?(this.parentElements=["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],this.id=t.querySelectorAll(".medium-editor-toolbar").length+1,this.options=n(o,this.defaults),this.setup()):void 0},setup:function(){this.isActive=!0,this.initElements().bindSelect().bindPaste().setPlaceholders().bindWindowActions()},initElements:function(){var e,t=!1;for(e=0;e<this.elements.length;e+=1)this.elements[e].setAttribute("contentEditable",!0),this.elements[e].getAttribute("data-placeholder")||this.elements[e].setAttribute("data-placeholder",this.options.placeholder),this.elements[e].setAttribute("data-medium-element",!0),this.bindParagraphCreation(e).bindReturn(e).bindTab(e),this.options.disableToolbar||this.elements[e].getAttribute("data-disable-toolbar")||(t=!0);return t&&this.initToolbar().bindButtons().bindAnchorForm().bindAnchorPreview(),this},serialize:function(){var e,t,n={};for(e=0;e<this.elements.length;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},callExtensions:function(e){if(!(arguments.length<1)){var t,n,o=Array.prototype.slice.call(arguments,1);for(n in this.options.extensions)this.options.extensions.hasOwnProperty(n)&&(t=this.options.extensions[n],void 0!==t[e]&&t[e].apply(t,o))}},bindParagraphCreation:function(e){var n=this;return this.elements[e].addEventListener("keyup",function(e){var o,i=r();i&&i.getAttribute("data-medium-element")&&0===i.children.length&&!n.options.disableReturn&&!i.getAttribute("data-disable-return")&&t.execCommand("formatBlock",!1,"p"),13===e.which&&(i=r(),o=i.tagName.toLowerCase(),n.options.disableReturn||this.getAttribute("data-disable-return")||"li"===o||n.isListItemChild(i)||(e.shiftKey||t.execCommand("formatBlock",!1,"p"),"a"===o&&t.execCommand("unlink",!1,null)))}),this},isListItemChild:function(e){for(var t=e.parentNode,n=t.tagName.toLowerCase();-1===this.parentElements.indexOf(n)&&"div"!==n;){if("li"===n)return!0;if(t=t.parentNode,!t||!t.tagName)return!1;n=t.tagName.toLowerCase()}return!1},bindReturn:function(e){var t=this;return this.elements[e].addEventListener("keypress",function(e){if(13===e.which)if(t.options.disableReturn||this.getAttribute("data-disable-return"))e.preventDefault();else if(t.options.disableDoubleReturn||this.getAttribute("data-disable-double-return")){var n=r();n&&"\n"===n.innerText&&e.preventDefault()}}),this},bindTab:function(e){return this.elements[e].addEventListener("keydown",function(e){if(9===e.which){var n=r().tagName.toLowerCase();"pre"===n&&(e.preventDefault(),t.execCommand("insertHtml",null,"    "))}}),this},buttonTemplate:function(e){var t=this.getButtonLabels(this.options.buttonLabels),n={bold:'<button class="medium-editor-action medium-editor-action-bold" data-action="bold" data-element="b">'+t.bold+"</button>",italic:'<button class="medium-editor-action medium-editor-action-italic" data-action="italic" data-element="i">'+t.italic+"</button>",underline:'<button class="medium-editor-action medium-editor-action-underline" data-action="underline" data-element="u">'+t.underline+"</button>",strikethrough:'<button class="medium-editor-action medium-editor-action-strikethrough" data-action="strikethrough" data-element="strike"><strike>A</strike></button>',superscript:'<button class="medium-editor-action medium-editor-action-superscript" data-action="superscript" data-element="sup">'+t.superscript+"</button>",subscript:'<button class="medium-editor-action medium-editor-action-subscript" data-action="subscript" data-element="sub">'+t.subscript+"</button>",anchor:'<button class="medium-editor-action medium-editor-action-anchor" data-action="anchor" data-element="a">'+t.anchor+"</button>",image:'<button class="medium-editor-action medium-editor-action-image" data-action="image" data-element="img">'+t.image+"</button>",header1:'<button class="medium-editor-action medium-editor-action-header1" data-action="append-'+this.options.firstHeader+'" data-element="'+this.options.firstHeader+'">'+t.header1+"</button>",header2:'<button class="medium-editor-action medium-editor-action-header2" data-action="append-'+this.options.secondHeader+'" data-element="'+this.options.secondHeader+'">'+t.header2+"</button>",quote:'<button class="medium-editor-action medium-editor-action-quote" data-action="append-blockquote" data-element="blockquote">'+t.quote+"</button>",orderedlist:'<button class="medium-editor-action medium-editor-action-orderedlist" data-action="insertorderedlist" data-element="ol">'+t.orderedlist+"</button>",unorderedlist:'<button class="medium-editor-action medium-editor-action-unorderedlist" data-action="insertunorderedlist" data-element="ul">'+t.unorderedlist+"</button>",pre:'<button class="medium-editor-action medium-editor-action-pre" data-action="append-pre" data-element="pre">'+t.pre+"</button>",indent:'<button class="medium-editor-action medium-editor-action-indent" data-action="indent" data-element="ul">'+t.indent+"</button>",outdent:'<button class="medium-editor-action medium-editor-action-outdent" data-action="outdent" data-element="ul">'+t.outdent+"</button>"};return n[e]||!1},getButtonLabels:function(e){var t,n,o={bold:"<b>B</b>",italic:"<b><i>I</i></b>",underline:"<b><u>U</u></b>",superscript:"<b>x<sup>1</sup></b>",subscript:"<b>x<sub>1</sub></b>",anchor:"<b>#</b>",image:"<b>image</b>",header1:"<b>H1</b>",header2:"<b>H2</b>",quote:"<b>&ldquo;</b>",orderedlist:"<b>1.</b>",unorderedlist:"<b>&bull;</b>",pre:"<b>0101</b>",indent:"<b>&rarr;</b>",outdent:"<b>&larr;</b>"};if("fontawesome"===e?t={bold:'<i class="fa fa-bold"></i>',italic:'<i class="fa fa-italic"></i>',underline:'<i class="fa fa-underline"></i>',superscript:'<i class="fa fa-superscript"></i>',subscript:'<i class="fa fa-subscript"></i>',anchor:'<i class="fa fa-link"></i>',image:'<i class="fa fa-picture-o"></i>',quote:'<i class="fa fa-quote-right"></i>',orderedlist:'<i class="fa fa-list-ol"></i>',unorderedlist:'<i class="fa fa-list-ul"></i>',pre:'<i class="fa fa-code fa-lg"></i>',indent:'<i class="fa fa-indent"></i>',outdent:'<i class="fa fa-outdent"></i>'}:"object"==typeof e&&(t=e),"object"==typeof t)for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o},initToolbar:function(){return this.toolbar?this:(this.toolbar=this.createToolbar(),this.keepToolbarAlive=!1,this.anchorForm=this.toolbar.querySelector(".medium-editor-toolbar-form-anchor"),this.anchorInput=this.anchorForm.querySelector("input"),this.toolbarActions=this.toolbar.querySelector(".medium-editor-toolbar-actions"),this.anchorPreview=this.createAnchorPreview(),this)},createToolbar:function(){var e=t.createElement("div");return e.id="medium-editor-toolbar-"+this.id,e.className="medium-editor-toolbar",e.appendChild(this.toolbarButtons()),e.appendChild(this.toolbarFormAnchor()),t.body.appendChild(e),e},toolbarButtons:function(){var e,n,o,i,r=this.options.buttons,s=t.createElement("ul");for(s.id="medium-editor-toolbar-actions",s.className="medium-editor-toolbar-actions clearfix",n=0;n<r.length;n+=1)this.options.extensions.hasOwnProperty(r[n])?(i=this.options.extensions[r[n]],o=void 0!==i.getButton?i.getButton():null):o=this.buttonTemplate(r[n]),o&&(e=t.createElement("li"),a(o)?e.appendChild(o):e.innerHTML=o,s.appendChild(e));return s},toolbarFormAnchor:function(){var e=t.createElement("div"),n=t.createElement("input"),o=t.createElement("a");return o.setAttribute("href","#"),o.innerHTML="&times;",n.setAttribute("type","text"),n.setAttribute("placeholder",this.options.anchorInputPlaceholder),e.className="medium-editor-toolbar-form-anchor",e.id="medium-editor-toolbar-form-anchor",e.appendChild(n),e.appendChild(o),e},bindSelect:function(){var e,n=this,o="";for(this.checkSelectionWrapper=function(e){return e&&n.clickingIntoArchorForm(e)?!1:(clearTimeout(o),void(o=setTimeout(function(){n.checkSelection()},n.options.delay)))},t.documentElement.addEventListener("mouseup",this.checkSelectionWrapper),e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("keyup",this.checkSelectionWrapper),this.elements[e].addEventListener("blur",this.checkSelectionWrapper);return this},checkSelection:function(){var t,n;return this.keepToolbarAlive===!0||this.options.disableToolbar||(t=e.getSelection(),""===t.toString().trim()||this.options.allowMultiParagraphSelection===!1&&this.hasMultiParagraphs()?this.hideToolbarActions():(n=this.getSelectionElement(),!n||n.getAttribute("data-disable-toolbar")?this.hideToolbarActions():this.checkSelectionElement(t,n))),this},clickingIntoArchorForm:function(e){var t=this;return e.type&&"blur"===e.type.toLowerCase()&&e.relatedTarget&&e.relatedTarget===t.anchorInput?!0:!1},hasMultiParagraphs:function(){var e=s().replace(/<[\S]+><\/[\S]+>/gim,""),t=e.match(/<(p|h[0-6]|blockquote)>([\s\S]*?)<\/(p|h[0-6]|blockquote)>/g);return t?t.length:0},checkSelectionElement:function(e,t){var n;for(this.selection=e,this.selectionRange=this.selection.getRangeAt(0),n=0;n<this.elements.length;n+=1)if(this.elements[n]===t)return void this.setToolbarButtonStates().setToolbarPosition().showToolbarActions();this.hideToolbarActions()},getSelectionElement:function(){var t,n,o,i,r=e.getSelection(),s=function(e){var t=e;try{for(;!t.getAttribute("data-medium-element");)t=t.parentNode}catch(n){return!1}return t};try{t=r.getRangeAt(0),n=t.commonAncestorContainer,o=n.parentNode,i=n.getAttribute("data-medium-element")?n:s(o)}catch(a){i=s(o)}return i},setToolbarPosition:function(){var t=50,n=e.getSelection(),o=n.getRangeAt(0),i=o.getBoundingClientRect(),r=this.options.diffLeft-this.toolbar.offsetWidth/2,s=(i.left+i.right)/2,a=this.toolbar.offsetWidth/2;return i.top<t?(this.toolbar.classList.add("medium-toolbar-arrow-over"),this.toolbar.classList.remove("medium-toolbar-arrow-under"),this.toolbar.style.top=t+i.bottom-this.options.diffTop+e.pageYOffset-this.toolbar.offsetHeight+"px"):(this.toolbar.classList.add("medium-toolbar-arrow-under"),this.toolbar.classList.remove("medium-toolbar-arrow-over"),this.toolbar.style.top=i.top+this.options.diffTop+e.pageYOffset-this.toolbar.offsetHeight+"px"),this.toolbar.style.left=a>s?r+a+"px":e.innerWidth-s<a?e.innerWidth+r-a+"px":r+s+"px",this.hideAnchorPreview(),this},setToolbarButtonStates:function(){var e,t=this.toolbarActions.querySelectorAll("button");for(e=0;e<t.length;e+=1)t[e].classList.remove("medium-editor-button-active");return this.checkActiveButtons(),this},checkActiveButtons:function(){var e=Array.prototype.slice.call(this.elements),t=this.selection.anchorNode;for(t.tagName||(t=this.selection.anchorNode.parentNode);void 0!==t.tagName&&-1===this.parentElements.indexOf(t.tagName.toLowerCase)&&(this.activateButton(t.tagName.toLowerCase()),this.callExtensions("checkState",t),-1===e.indexOf(t));)t=t.parentNode},activateButton:function(e){var t=this.toolbar.querySelector('[data-element="'+e+'"]');null!==t&&-1===t.className.indexOf("medium-editor-button-active")&&(t.className+=" medium-editor-button-active")},bindButtons:function(){var e,t=this.toolbar.querySelectorAll("button"),n=this,o=function(e){e.preventDefault(),e.stopPropagation(),void 0===n.selection&&n.checkSelection(),this.className.indexOf("medium-editor-button-active")>-1?this.classList.remove("medium-editor-button-active"):this.className+=" medium-editor-button-active",this.hasAttribute("data-action")&&n.execAction(this.getAttribute("data-action"),e)};for(e=0;e<t.length;e+=1)t[e].addEventListener("click",o);return this.setFirstAndLastItems(t),this},setFirstAndLastItems:function(e){return e.length>0&&(e[0].className+=" medium-editor-button-first",e[e.length-1].className+=" medium-editor-button-last"),this},execAction:function(n,o){n.indexOf("append-")>-1?(this.execFormatBlock(n.replace("append-","")),this.setToolbarPosition(),this.setToolbarButtonStates()):"anchor"===n?this.triggerAnchorAction(o):"image"===n?t.execCommand("insertImage",!1,e.getSelection()):(t.execCommand(n,!1,null),this.setToolbarPosition())},triggerAnchorAction:function(){return"a"===this.selection.anchorNode.parentNode.tagName.toLowerCase()?t.execCommand("unlink",!1,null):"block"===this.anchorForm.style.display?this.showToolbarActions():this.showAnchorForm(),this},execFormatBlock:function(e){var n=this.getSelectionData(this.selection.anchorNode);if("blockquote"===e&&n.el&&"blockquote"===n.el.parentNode.tagName.toLowerCase())return t.execCommand("outdent",!1,null);if(n.tagName===e&&(e="p"),this.isIE){if("blockquote"===e)return t.execCommand("indent",!1,e);e="<"+e+">"}return t.execCommand("formatBlock",!1,e)},getSelectionData:function(e){var t;for(e&&e.tagName&&(t=e.tagName.toLowerCase());e&&-1===this.parentElements.indexOf(t);)e=e.parentNode,e&&e.tagName&&(t=e.tagName.toLowerCase());return{el:e,tagName:t}},getFirstChild:function(e){for(var t=e.firstChild;null!==t&&1!==t.nodeType;)t=t.nextSibling;return t},hideToolbarActions:function(){this.keepToolbarAlive=!1,void 0!==this.toolbar&&this.toolbar.classList.remove("medium-editor-toolbar-active")},showToolbarActions:function(){var e,t=this;this.anchorForm.style.display="none",this.toolbarActions.style.display="block",this.keepToolbarAlive=!1,clearTimeout(e),e=setTimeout(function(){t.toolbar&&!t.toolbar.classList.contains("medium-editor-toolbar-active")&&t.toolbar.classList.add("medium-editor-toolbar-active")},100)},showAnchorForm:function(e){this.toolbarActions.style.display="none",this.savedSelection=o(),this.anchorForm.style.display="block",this.keepToolbarAlive=!0,this.anchorInput.focus(),this.anchorInput.value=e||""},bindAnchorForm:function(){var e=this.anchorForm.querySelector("a"),t=this;return this.anchorForm.addEventListener("click",function(e){e.stopPropagation()}),this.anchorInput.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),t.createLink(this))}),this.anchorInput.addEventListener("click",function(e){e.stopPropagation(),t.keepToolbarAlive=!0}),this.anchorInput.addEventListener("blur",function(){t.keepToolbarAlive=!1,t.checkSelection()}),e.addEventListener("click",function(e){e.preventDefault(),t.showToolbarActions(),i(t.savedSelection)}),this},hideAnchorPreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active")},showAnchorPreview:function(t){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active"))return!0;var n,o,i,r=this,s=40,a=t.getBoundingClientRect(),c=(a.left+a.right)/2;return r.anchorPreview.querySelector("i").innerHTML=t.href,n=r.anchorPreview.offsetWidth/2,o=r.options.diffLeft-n,clearTimeout(i),i=setTimeout(function(){r.anchorPreview&&!r.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&r.anchorPreview.classList.add("medium-editor-anchor-preview-active")},100),r.observeAnchorPreview(t),r.anchorPreview.classList.add("medium-toolbar-arrow-over"),r.anchorPreview.classList.remove("medium-toolbar-arrow-under"),r.anchorPreview.style.top=Math.round(s+a.bottom-r.options.diffTop+e.pageYOffset-r.anchorPreview.offsetHeight)+"px",r.anchorPreview.style.left=n>c?o+n+"px":e.innerWidth-c<n?e.innerWidth+o-n+"px":o+c+"px",this},observeAnchorPreview:function(e){var t=this,n=(new Date).getTime(),o=!0,i=function(){n=(new Date).getTime(),o=!0},r=function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(o=!1)},s=setInterval(function(){if(o)return!0;var a=(new Date).getTime()-n;a>t.options.anchorPreviewHideDelay&&(t.hideAnchorPreview(),clearInterval(s),t.anchorPreview.removeEventListener("mouseover",i),t.anchorPreview.removeEventListener("mouseout",r),e.removeEventListener("mouseover",i),e.removeEventListener("mouseout",r))},200);t.anchorPreview.addEventListener("mouseover",i),t.anchorPreview.addEventListener("mouseout",r),e.addEventListener("mouseover",i),e.addEventListener("mouseout",r)},createAnchorPreview:function(){var e=this,n=t.createElement("div");return n.id="medium-editor-anchor-preview-"+this.id,n.className="medium-editor-anchor-preview",n.innerHTML=this.anchorPreviewTemplate(),t.body.appendChild(n),n.addEventListener("click",function(){e.anchorPreviewClickHandler()}),n},anchorPreviewTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <i class="medium-editor-toolbar-anchor-preview-inner"></i></div>'},anchorPreviewClickHandler:function(){if(this.activeAnchor){var n=this,o=t.createRange(),i=e.getSelection();o.selectNodeContents(n.activeAnchor),i.removeAllRanges(),i.addRange(o),setTimeout(function(){n.activeAnchor&&n.showAnchorForm(n.activeAnchor.href),n.keepToolbarAlive=!1},100+n.options.delay)}this.hideAnchorPreview()},editorAnchorObserver:function(e){var t=this,n=!0,o=function(){n=!1,t.activeAnchor.removeEventListener("mouseout",o)};if(e.target&&"a"===e.target.tagName.toLowerCase()){if(!/href=["']\S+["']/.test(e.target.outerHTML)||/href=["']#\S+["']/.test(e.target.outerHTML))return!0;if(this.toolbar.classList.contains("medium-editor-toolbar-active"))return!0;this.activeAnchor=e.target,this.activeAnchor.addEventListener("mouseout",o),setTimeout(function(){n&&t.showAnchorPreview(e.target)},t.options.delay)}},bindAnchorPreview:function(){var e,t=this;for(this.editorAnchorObserverWrapper=function(e){t.editorAnchorObserver(e)},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("mouseover",this.editorAnchorObserverWrapper);return this},checkLinkFormat:function(e){var t=/^https?:\/\//;return e.match(t)?e:"http://"+e},setTargetBlank:function(){var e,t=r();if("a"===t.tagName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),e=0;e<t.length;e+=1)t[e].target="_blank"},createLink:function(e){i(this.savedSelection),this.options.checkLinkFormat&&(e.value=this.checkLinkFormat(e.value)),t.execCommand("createLink",!1,e.value),this.options.targetBlank&&this.setTargetBlank(),this.showToolbarActions(),e.value=""},bindWindowActions:function(){var t,n=this;return this.windowResizeHandler=function(){clearTimeout(t),t=setTimeout(function(){n.toolbar&&n.toolbar.classList.contains("medium-editor-toolbar-active")&&n.setToolbarPosition()},100)},e.addEventListener("resize",this.windowResizeHandler),this},activate:function(){this.isActive||this.setup()},deactivate:function(){var n;if(this.isActive)for(this.isActive=!1,void 0!==this.toolbar&&(t.body.removeChild(this.anchorPreview),t.body.removeChild(this.toolbar),delete this.toolbar,delete this.anchorPreview),t.documentElement.removeEventListener("mouseup",this.checkSelectionWrapper),e.removeEventListener("resize",this.windowResizeHandler),n=0;n<this.elements.length;n+=1)this.elements[n].removeEventListener("mouseover",this.editorAnchorObserverWrapper),this.elements[n].removeEventListener("keyup",this.checkSelectionWrapper),this.elements[n].removeEventListener("blur",this.checkSelectionWrapper),this.elements[n].removeEventListener("paste",this.pasteWrapper),this.elements[n].removeAttribute("contentEditable"),this.elements[n].removeAttribute("data-medium-element")},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},bindPaste:function(){var e,n=this;for(this.pasteWrapper=function(e){var o,i,r="";if(this.classList.remove("medium-editor-placeholder"),!n.options.forcePlainText&&!n.options.cleanPastedHTML)return this;if(e.clipboardData&&e.clipboardData.getData&&!e.defaultPrevented){if(e.preventDefault(),n.options.cleanPastedHTML&&e.clipboardData.getData("text/html"))return n.cleanPaste(e.clipboardData.getData("text/html"));if(n.options.disableReturn)t.execCommand("insertHTML",!1,e.clipboardData.getData("text/plain"));else{for(o=e.clipboardData.getData("text/plain").split(/[\r\n]/g),i=0;i<o.length;i+=1)""!==o[i]&&(r+=navigator.userAgent.match(/firefox/i)&&0===i?n.htmlEntities(o[i]):"<p>"+n.htmlEntities(o[i])+"</p>");t.execCommand("insertHTML",!1,r)}}},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("paste",this.pasteWrapper);return this},setPlaceholders:function(){var e,t=function(e){""===e.textContent.replace(/^\s+|\s+$/g,"")&&e.classList.add("medium-editor-placeholder")},n=function(e){this.classList.remove("medium-editor-placeholder"),"keypress"!==e.type&&t(this)};for(e=0;e<this.elements.length;e+=1)t(this.elements[e]),this.elements[e].addEventListener("blur",n),this.elements[e].addEventListener("keypress",n);return this},cleanPaste:function(e){var n,o,i,r=this.getSelectionElement(),s=/<p|<br|<div/.test(e),a=[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi),'<a href="$2">']];for(n=0;n<a.length;n+=1)e=e.replace(a[n][0],a[n][1]);if(s)for(o=e.split("<br><br>"),this.pasteHTML("<p>"+o.join("</p><p>")+"</p>"),t.execCommand("insertText",!1,"\n"),o=r.querySelectorAll("p,div,br"),n=0;n<o.length;n+=1)switch(i=o[n],i.tagName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(i);break;case"br":this.filterLineBreak(i)}else this.pasteHTML(e)},pasteHTML:function(e){var n,o,i,r,s=t.createDocumentFragment();for(s.appendChild(t.createElement("body")),r=s.querySelector("body"),r.innerHTML=e,this.cleanupSpans(r),n=r.querySelectorAll("*"),i=0;i<n.length;i+=1)o=n[i],o.removeAttribute("class"),o.removeAttribute("style"),o.removeAttribute("dir"),"meta"===o.tagName.toLowerCase()&&o.parentNode.removeChild(o);t.execCommand("insertHTML",!1,r.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.tagName.toLowerCase()||"div"===e.tagName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.innerText)&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?e.parentNode.removeChild(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?1===e.parentNode.childElementCount&&this.removeWithParent(e):e.parentNode.removeChild(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e.parentNode))},cleanupSpans:function(e){var n,o,i,r=e.querySelectorAll(".replace-with");for(n=0;n<r.length;n+=1)o=r[n],i=t.createElement(o.classList.contains("bold")?"b":"i"),i.innerHTML=o.classList.contains("bold")&&o.classList.contains("italic")?"<i>"+o.innerHTML+"</i>":o.innerHTML,o.parentNode.replaceChild(i,o);for(r=e.querySelectorAll("span"),n=0;n<r.length;n+=1)o=r[n],/^\s*$/.test()?o.parentNode.removeChild(o):o.parentNode.replaceChild(t.createTextNode(o.innerText),o)}}}(window,document),angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:"ngModel",restrict:"AE",link:function(e,t,n,o){angular.element(t).addClass("angular-medium-editor");var i={};n.options&&(i=angular.fromJson(n.options));var r=i.placeholder||"Type your text",s=function(){e.$apply(function(){if("<p><br></p>"==t.html()){i.placeholder=r;{new MediumEditor(t,i)}}o.$setViewValue(t.html())})};t.on("blur",s),t.on("input",s),o.$render=function(){if(!e){o.$isEmpty(o.$viewValue)||(i.placeholder="");var e=new MediumEditor(t,i)}t.html(o.$isEmpty(o.$viewValue)?"":o.$viewValue)}}}});